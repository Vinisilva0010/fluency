<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Fluency Master - Aplicativo interativo para aprender ingl√™s com exerc√≠cios de fala, audi√ß√£o, escrita e vocabul√°rio. Sistema de gamifica√ß√£o com conquistas e desafios di√°rios.">
    <meta name="keywords" content="aprender ingl√™s, ingl√™s online, pr√°tica de ingl√™s, vocabul√°rio, gram√°tica, conversa√ß√£o em ingl√™s">
    <meta name="author" content="Fluency Master">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Fluency Master - Aprenda Ingl√™s">
    <meta property="og:description" content="Explore o universo do ingl√™s com exerc√≠cios interativos de fala, audi√ß√£o e escrita. Sistema de gamifica√ß√£o completo!">
    <meta property="og:site_name" content="Fluency Master">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Fluency Master - Aprenda Ingl√™s">
    <meta name="twitter:description" content="Explore o universo do ingl√™s com exerc√≠cios interativos de fala, audi√ß√£o e escrita. Sistema de gamifica√ß√£o completo!">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#764ba2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <title>Fluency Master - Aprenda Ingl√™s üöÄ</title>
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- CSS Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- PWA Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/assets/icons/icon-512x512.png">
    <link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="/assets/icons/icon-512x512.png">
</head>
<body class="main-gradient text-gray-800">
    <!-- Video de Fundo do Universo -->
    <video autoplay muted loop playsinline id="universe-video" class="fixed top-0 left-0 w-full h-full object-cover z-0">
        <source src="assets/videoUniverso.mp4" type="video/mp4">
    </video>
    
    <!-- Overlay escuro para melhor legibilidade -->
    <div class="fixed top-0 left-0 w-full h-full bg-black opacity-40 z-0"></div>
    
    <div id="app" class="min-h-screen flex flex-col items-center justify-center p-4 relative z-10">

        <!-- Tela Principal / Menu -->
        <div id="home-screen" class="w-full max-w-6xl fade-in relative z-10">
            <!-- Header com Theme Toggle -->
            <div class="absolute top-0 right-0">
                <button onclick="toggleTheme()" class="theme-toggle text-white text-2xl p-3 hover:bg-white/10 rounded-full">
                    <i id="theme-icon" class="fas fa-moon"></i>
                </button>
            </div>
            
            <div class="text-center mb-8">
                <h1 class="text-6xl font-extrabold text-white mb-2 space-text">Fluency Master</h1>
                <p class="text-xl text-white opacity-90">üåå Explore o universo do ingl√™s üöÄ</p>
                
                <!-- Stats Row -->
                <div class="grid grid-cols-3 gap-4 mt-6 max-w-2xl mx-auto">
                    <div class="stat-card p-4 rounded-xl text-white">
                        <div class="text-3xl font-bold text-yellow-300"><i class="fas fa-star"></i></div>
                        <div class="text-2xl font-bold" id="user-score">0</div>
                        <div class="text-sm opacity-90">Pontos</div>
                    </div>
                    <div class="stat-card p-4 rounded-xl text-white">
                        <div class="text-3xl font-bold text-orange-400 streak-flame"><i class="fas fa-fire"></i></div>
                        <div class="text-2xl font-bold" id="user-streak">0</div>
                        <div class="text-sm opacity-90">Dias Seguidos</div>
                    </div>
                    <div class="stat-card p-4 rounded-xl text-white">
                        <div class="level-badge inline-block px-4 py-1 rounded-full text-sm font-bold">
                            <span id="user-level">Iniciante</span>
                        </div>
                        <div class="text-sm mt-2 opacity-90">N√≠vel</div>
                    </div>
                </div>
            </div>
            
            <!-- Bot√£o do Desafio do Dia -->
            <div class="mb-6">
                 <button onclick="showScreen('daily-challenge-screen')" class="w-full btn-glowing daily-challenge-btn flex items-center justify-center text-xl font-bold bg-yellow-400 text-yellow-900 p-5 rounded-2xl shadow-2xl transition">
                    <i class="fas fa-calendar-day mr-3 text-2xl"></i> 
                    <span>Desafio do Dia</span>
                    <i class="fas fa-trophy ml-3 text-2xl"></i>
                </button>
            </div>

            <!-- Bot√£o do Desafio dos Verbos do, did,  -->
             <div class="mb-4 px-4">
                    <button onclick="startVerbGame()" class="w-full verb-challenge-btn flex items-center justify-center text-lg font-semibold p-4 rounded-xl shadow-lg transition transform hover:scale-105">
                        <i class="fas fa-bolt mr-3"></i> Desafio dos Verbos: Do, Did, Will, Would
                    </button>
                </div>

            <!-- Conversas Guiadas -->
            <div class="mb-6">
                <h3 class="text-2xl font-bold text-white text-center mb-4 space-text">üí¨ Conversas Guiadas</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <button onclick="startConversation('finance')" class="btn-glowing card flex flex-col items-center justify-center text-white p-6 rounded-2xl shadow-xl transition hover:scale-105" style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.8) 0%, rgba(22, 163, 74, 0.8) 100%);">
                        <i class="fas fa-chart-pie text-4xl mb-3"></i>
                        <span class="text-lg font-bold">Mercado Financeiro</span>
                        <span class="text-sm opacity-90 mt-1">Aprenda vocabul√°rio de neg√≥cios</span>
                    </button>
                    <button onclick="startConversation('quantum')" class="btn-glowing card flex flex-col items-center justify-center text-white p-6 rounded-2xl shadow-xl transition hover:scale-105" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.8) 0%, rgba(37, 99, 235, 0.8) 100%);">
                        <i class="fas fa-atom text-4xl mb-3"></i>
                        <span class="text-lg font-bold">F√≠sica Qu√¢ntica</span>
                        <span class="text-sm opacity-90 mt-1">Explore conceitos cient√≠ficos</span>
                    </button>
                    <button onclick="startConversation('ai')" class="btn-glowing card flex flex-col items-center justify-center text-white p-6 rounded-2xl shadow-xl transition hover:scale-105" style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.8) 0%, rgba(147, 51, 234, 0.8) 100%);">
                        <i class="fas fa-robot text-4xl mb-3"></i>
                        <span class="text-lg font-bold">Intelig√™ncia Artificial</span>
                        <span class="text-sm opacity-90 mt-1">Discuta tecnologia do futuro</span>
                    </button>
                </div>
            </div>
            
            <!-- Grid Principal de Atividades -->
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4">
                <button onclick="showScreen('speaking-screen')" class="btn-glowing nebula-blue flex flex-col items-center justify-center text-lg font-bold text-white p-6 rounded-2xl shadow-xl transition">
                    <div class="category-icon">üé§</div>
                    <span>Fala</span>
                </button>
                <button onclick="showScreen('listening-screen')" class="btn-glowing nebula-purple flex flex-col items-center justify-center text-lg font-bold text-white p-6 rounded-2xl shadow-xl transition">
                    <div class="category-icon">üéß</div>
                    <span>Audi√ß√£o</span>
                </button>
                <button onclick="showScreen('writing-screen')" class="btn-glowing nebula-green flex flex-col items-center justify-center text-lg font-bold text-white p-6 rounded-2xl shadow-xl transition">
                    <div class="category-icon">‚úçÔ∏è</div>
                    <span>Escrita</span>
                </button>
                <button onclick="showScreen('vocabulary-screen')" class="btn-glowing nebula-pink flex flex-col items-center justify-center text-lg font-bold text-white p-6 rounded-2xl shadow-xl transition">
                    <div class="category-icon">üìö</div>
                    <span>Vocabul√°rio</span>
                </button>
                <button onclick="startVerbGame()" class="btn-glowing flex flex-col items-center justify-center text-lg font-bold text-white p-6 rounded-2xl shadow-xl transition" style="background: linear-gradient(135deg, rgba(249, 115, 22, 0.8) 0%, rgba(251, 146, 60, 0.8) 100%);">
                    <div class="category-icon">üéØ</div>
                    <span>Jogo de Verbos</span>
                </button>
            </div>
            
            <!-- Bot√µes Secund√°rios -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <button onclick="showScreen('idioms-screen')" class="btn-glowing flex items-center justify-center text-base font-semibold text-white p-4 rounded-xl shadow-lg transition" style="background: linear-gradient(135deg, rgba(30, 64, 175, 0.8) 0%, rgba(59, 130, 246, 0.8) 100%);">
                    <i class="fas fa-book-open mr-2"></i> üí¨ Express√µes
                </button>
                <button onclick="showScreen('culture-screen')" class="btn-glowing flex items-center justify-center text-base font-semibold text-white p-4 rounded-xl shadow-lg transition" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.8) 0%, rgba(5, 150, 105, 0.8) 100%);">
                    <i class="fas fa-globe mr-2"></i> üåç Cultura
                </button>
                <button onclick="showScreen('achievements-screen')" class="btn-glowing flex items-center justify-center text-base font-semibold text-white p-4 rounded-xl shadow-lg transition" style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.8) 0%, rgba(245, 158, 11, 0.8) 100%);">
                    <i class="fas fa-trophy mr-2"></i> üèÜ Conquistas
                </button>
                <button onclick="showScreen('progress-screen')" class="btn-glowing flex items-center justify-center text-base font-semibold text-white p-4 rounded-xl shadow-lg transition" style="background: linear-gradient(135deg, rgba(91, 33, 182, 0.8) 0%, rgba(168, 85, 247, 0.8) 100%);">
                    <i class="fas fa-chart-line mr-2"></i> üìä Progresso
                </button>
            </div>
        </div>
        
        <!-- Tela de Desafio do Dia -->
        <div id="daily-challenge-screen" class="w-full max-w-2xl hidden relative z-10">
            <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl hover:scale-110 transition"><i class="fas fa-arrow-left"></i></button>
            <h2 class="text-4xl font-bold text-white text-center mb-6 space-text">üåü Desafio do Dia üåü</h2>
            <div class="card p-6 rounded-2xl shadow-2xl">
                <div id="challenge-content">
                    <!-- Conte√∫do do desafio ser√° inserido aqui -->
                </div>
                <div id="challenge-completed" class="hidden text-center">
                    <i class="fas fa-check-circle text-5xl text-green-400 mb-4"></i>
                    <h3 class="text-2xl font-bold text-purple-300">Parab√©ns!</h3>
                    <p class="text-gray-200">Voc√™ j√° completou o desafio de hoje. Volte amanh√£ para um novo!</p>
                </div>
            </div>
        </div>

        <!-- Tela de Express√µes Idiom√°ticas -->
        <div id="idioms-screen" class="w-full max-w-3xl hidden relative z-10">
             <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl hover:scale-110 transition"><i class="fas fa-arrow-left"></i></button>
            <h2 class="text-4xl font-bold text-white text-center mb-6 space-text">üí¨ Express√µes Idiom√°ticas üí¨</h2>
            <div id="idioms-list" class="w-full h-[70vh] overflow-y-auto space-y-4 pr-2">
                <!-- Lista de express√µes ser√° inserida aqui -->
            </div>
        </div>

        <!-- Tela de Pr√°tica de Fala -->
        <div id="speaking-screen" class="w-full max-w-2xl hidden relative z-10">
            <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl hover:scale-110 transition"><i class="fas fa-arrow-left"></i></button>
            <h2 class="text-4xl font-bold text-white text-center mb-6 space-text">üé§ Pr√°tica de Fala üé§</h2>
            <div class="card p-6 rounded-2xl shadow-2xl">
                <div id="level-selection-speaking" class="flex justify-center gap-4 mb-6">
                    <button onclick="startSpeakingPractice('basic')" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg transition">B√°sico</button>
                    <button onclick="startSpeakingPractice('intermediate')" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg transition">Intermedi√°rio</button>
                    <button onclick="startSpeakingPractice('advanced')" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition">Avan√ßado</button>
                </div>
                 <div id="practice-area-speaking" class="hidden text-center">
                     <div class="mb-4">
                         <p class="text-lg text-purple-200 mb-1">Frase:</p>
                         <p id="phrase-en" class="text-2xl md:text-3xl font-bold text-purple-200"></p>
                         <p id="phrase-pt" class="text-md text-gray-300 mt-1"></p>
                     </div>
                    <div id="feedback" class="h-8 mb-4 text-lg font-semibold"></div>
                    <div class="flex items-center justify-center gap-4">
                        <button id="listen-btn" onclick="listenToPhrase()" class="bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-full shadow-lg transition transform hover:scale-110">
                            <i class="fas fa-volume-up text-2xl"></i>
                        </button>
                        <button id="speak-btn" onclick="recordAndCheck()" class="bg-red-500 hover:bg-red-600 text-white p-6 rounded-full shadow-lg transition transform hover:scale-110">
                            <i class="fas fa-microphone-alt text-3xl"></i>
                        </button>
                    </div>
                      <p id="user-speech" class="mt-4 text-gray-200 h-6"></p>
                    <button id="next-phrase-btn" onclick="nextPhrase()" class="hidden mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg transition">Pr√≥xima Frase</button>
                </div>
            </div>
        </div>

        <!-- Tela de Pr√°tica de Audi√ß√£o -->
        <div id="listening-screen" class="w-full max-w-2xl hidden relative z-10">
             <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl hover:scale-110 transition"><i class="fas fa-arrow-left"></i></button>
            <h2 class="text-4xl font-bold text-white text-center mb-6 space-text">üéß Pr√°tica de Audi√ß√£o üéß</h2>
            <div class="card p-6 rounded-2xl shadow-2xl text-center">
                 <p class="mb-4 text-gray-200 font-semibold">Ou√ßa a frase e digite o que voc√™ ouviu.</p>
                 <button id="listen-exercise-btn" onclick="listenToExercisePhrase()" class="bg-blue-500 hover:bg-blue-600 text-white p-5 rounded-full shadow-lg transition transform hover:scale-110 mb-4">
                    <i class="fas fa-volume-up text-3xl"></i>
                </button>
                 <input type="text" id="listening-input" class="w-full p-3 border-2 border-purple-400 bg-gray-800 text-white rounded-lg text-lg text-center focus:outline-none focus:border-purple-300" placeholder="Digite aqui...">
                <div id="listening-feedback" class="h-6 mt-4 font-semibold"></div>
                <button onclick="checkListeningAnswer()" class="mt-4 bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg transition">Verificar</button>
                <button id="next-listening-btn" onclick="nextListeningExercise()" class="hidden mt-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg transition">Pr√≥ximo</button>
            </div>
        </div>

        <!-- Tela de Pr√°tica de Escrita -->
        <div id="writing-screen" class="w-full max-w-2xl hidden relative z-10">
            <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl hover:scale-110 transition"><i class="fas fa-arrow-left"></i></button>
            <h2 class="text-4xl font-bold text-white text-center mb-6 space-text">‚úçÔ∏è Pr√°tica de Escrita ‚úçÔ∏è</h2>
            <div class="card p-6 rounded-2xl shadow-2xl">
                <div id="grammar-topic">
                    <h3 id="topic-title" class="text-2xl font-bold text-purple-300 mb-2"></h3>
                    <p id="topic-explanation" class="text-gray-200 mb-4"></p>
                </div>
                <div id="exercise-area" class="min-h-[150px]">
                    <!-- O conte√∫do do exerc√≠cio ser√° injetado aqui pelo JS -->
                </div>
                <div id="writing-feedback" class="h-6 mt-4 font-semibold"></div>
                <button onclick="checkWritingAnswer()" class="mt-4 bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-lg transition">Verificar</button>
                <button id="next-exercise-btn" onclick="nextExercise()" class="hidden mt-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg transition">Pr√≥ximo</button>
            </div>
        </div>

        <!-- Tela de Progresso -->
        <div id="progress-screen" class="w-full max-w-4xl hidden relative z-10">
            <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl hover:scale-110 transition"><i class="fas fa-arrow-left"></i></button>
            <h2 class="text-4xl font-bold text-white text-center mb-8 space-text">üìä Meu Progresso üìä</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Card de Pontua√ß√£o -->
                <div class="card p-6 rounded-2xl shadow-2xl text-center">
                    <h3 class="text-xl font-bold text-purple-300 mb-3">Pontua√ß√£o Total</h3>
                    <p id="progress-score" class="text-5xl font-extrabold text-yellow-400 mb-2">
                        <i class="fas fa-star"></i> 0
                    </p>
                    <div class="mt-4 text-sm text-gray-200">
                        <p>Continue praticando para ganhar mais pontos!</p>
                    </div>
                </div>
                
                <!-- Card de Streak -->
                <div class="card p-6 rounded-2xl shadow-2xl text-center">
                    <h3 class="text-xl font-bold text-purple-300 mb-3">Dias Consecutivos</h3>
                    <p class="text-5xl font-extrabold text-orange-400 mb-2">
                        <i class="fas fa-fire streak-flame"></i> <span id="progress-streak">0</span>
                    </p>
                    <div class="mt-4 text-sm text-gray-200">
                        <p>Pratique todos os dias para manter sua sequ√™ncia!</p>
                    </div>
                </div>
            </div>
            
            <!-- Progresso de Fala -->
            <div class="card p-6 rounded-2xl shadow-2xl mt-6">
                <h3 class="text-2xl font-bold text-purple-200 mb-6 text-center">Frases Completas (Fala)</h3>
                <div class="space-y-5">
                    <div>
                        <div class="flex justify-between mb-2">
                            <span class="font-semibold text-green-300 flex items-center">
                                <i class="fas fa-seedling mr-2"></i> B√°sico
                            </span>
                            <span id="basic-progress-label" class="font-bold text-gray-200">0/0</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-5 overflow-hidden">
                            <div id="basic-progress-bar" class="bg-gradient-to-r from-green-400 to-green-600 h-5 rounded-full transition-all duration-500" style="width: 0%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between mb-2">
                            <span class="font-semibold text-yellow-300 flex items-center">
                                <i class="fas fa-graduation-cap mr-2"></i> Intermedi√°rio
                            </span>
                            <span id="intermediate-progress-label" class="font-bold text-gray-200">0/0</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-5 overflow-hidden">
                            <div id="intermediate-progress-bar" class="bg-gradient-to-r from-yellow-400 to-yellow-600 h-5 rounded-full transition-all duration-500" style="width: 0%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between mb-2">
                            <span class="font-semibold text-red-300 flex items-center">
                                <i class="fas fa-crown mr-2"></i> Avan√ßado
                            </span>
                            <span id="advanced-progress-label" class="font-bold text-gray-200">0/0</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-5 overflow-hidden">
                            <div id="advanced-progress-bar" class="bg-gradient-to-r from-red-400 to-red-600 h-5 rounded-full transition-all duration-500" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>
            
             <!-- Outros Exerc√≠cios -->
             <div class="card p-6 rounded-2xl shadow-2xl mt-6 text-center">
                 <h3 class="text-2xl font-bold text-purple-200 mb-4">Exerc√≠cios Completos</h3>
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-xl">
                        <i class="fas fa-headphones text-3xl text-purple-600 mb-2"></i>
                        <p class="text-sm font-semibold">Audi√ß√£o & Escrita</p>
                        <p class="text-2xl font-bold text-purple-700" id="exercises-progress-label">0</p>
                    </div>
                    <div class="bg-gradient-to-br from-pink-100 to-pink-200 p-4 rounded-xl">
                        <i class="fas fa-book text-3xl text-pink-600 mb-2"></i>
                        <p class="text-sm font-semibold">Vocabul√°rio</p>
                        <p class="text-2xl font-bold text-pink-700" id="vocab-progress-label">0</p>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-6">
                 <button onclick="handleResetProgress()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-xl transition transform hover:scale-105">
                    <i class="fas fa-redo mr-2"></i> Resetar Progresso
                </button>
            </div>
        </div>
        
        <!-- Tela de Vocabul√°rio -->
        <div id="vocabulary-screen" class="w-full max-w-5xl hidden relative z-10">
            <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl hover:scale-110 transition"><i class="fas fa-arrow-left"></i></button>
            <h2 class="text-4xl font-bold text-white text-center mb-8 space-text">üìö Vocabul√°rio C√≥smico üìö</h2>
            
            <!-- Seletor de Categoria -->
            <div class="flex flex-wrap justify-center gap-3 mb-6">
                <button onclick="loadVocabulary('all')" class="vocab-category-btn active bg-white text-indigo-700 font-bold py-2 px-6 rounded-full shadow-lg hover:scale-105 transition" data-category="all">
                    <i class="fas fa-globe mr-2"></i> Todos
                </button>
                <button onclick="loadVocabulary('travel')" class="vocab-category-btn bg-white/80 text-indigo-700 font-semibold py-2 px-6 rounded-full shadow-lg hover:scale-105 transition" data-category="travel">
                    <i class="fas fa-plane mr-2"></i> Viagens
                </button>
                <button onclick="loadVocabulary('food')" class="vocab-category-btn bg-white/80 text-indigo-700 font-semibold py-2 px-6 rounded-full shadow-lg hover:scale-105 transition" data-category="food">
                    <i class="fas fa-utensils mr-2"></i> Comida
                </button>
                <button onclick="loadVocabulary('business')" class="vocab-category-btn bg-white/80 text-indigo-700 font-semibold py-2 px-6 rounded-full shadow-lg hover:scale-105 transition" data-category="business">
                    <i class="fas fa-briefcase mr-2"></i> Neg√≥cios
                </button>
                <button onclick="loadVocabulary('emotions')" class="vocab-category-btn bg-white/80 text-indigo-700 font-semibold py-2 px-6 rounded-full shadow-lg hover:scale-105 transition" data-category="emotions">
                    <i class="fas fa-heart mr-2"></i> Emo√ß√µes
                </button>
            </div>
            
            <div id="vocabulary-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 h-[65vh] overflow-y-auto pr-2">
                <!-- Cards de vocabul√°rio ser√£o inseridos aqui -->
            </div>
        </div>
        
        <!-- Tela de Conquistas -->
        <div id="achievements-screen" class="w-full max-w-5xl hidden relative z-10">
            <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl hover:scale-110 transition"><i class="fas fa-arrow-left"></i></button>
            <h2 class="text-4xl font-bold text-white text-center mb-8 space-text">üèÜ Conquistas Estelares üèÜ</h2>
            
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6" id="achievements-list">
                <!-- Badges ser√£o inseridos aqui -->
            </div>
        </div>
        
        <!-- Tela de Cultura e Situa√ß√µes -->
        <div id="culture-screen" class="w-full max-w-4xl hidden relative z-10">
            <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl hover:scale-110 transition"><i class="fas fa-arrow-left"></i></button>
            <h2 class="text-4xl font-bold text-white text-center mb-8 space-text">üåç Cultura & Situa√ß√µes üåç</h2>
            
            <div id="culture-list" class="space-y-6 h-[70vh] overflow-y-auto pr-2">
                <!-- Cards de cultura ser√£o inseridos aqui -->
            </div>
        </div>
        
        <!-- Tela do Jogo de Verbos -->
        <div id="verb-game-screen" class="w-full max-w-4xl hidden relative z-10">
            <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl hover:scale-110 transition"><i class="fas fa-arrow-left"></i></button>
            <h2 class="text-4xl font-bold text-white text-center mb-6 space-text">üéØ Jogo de Verbos Auxiliares üéØ</h2>
            
            <!-- √Årea de Instru√ß√µes -->
            <div id="verb-instructions" class="card p-8 rounded-2xl shadow-2xl mb-6">
                <h3 class="text-2xl font-bold text-purple-200 mb-4 text-center">üìö Aprenda sobre os Verbos Auxiliares</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <!-- DO -->
                    <div class="bg-gradient-to-r from-blue-900/30 to-blue-800/30 p-4 rounded-lg border border-blue-500/30">
                        <h4 class="font-bold text-blue-300 mb-2 text-lg">üìò DO / DOES</h4>
                        <p class="text-sm text-gray-200 mb-2"><strong>Quando usar:</strong> Perguntas e negativas no presente</p>
                        <p class="text-xs text-gray-300 italic">Exemplo: <strong>Do</strong> you like pizza?</p>
                        <p class="text-xs text-gray-300 italic">Exemplo: She <strong>does</strong> not (doesn't) eat meat.</p>
                    </div>
                    
                    <!-- DID -->
                    <div class="bg-gradient-to-r from-purple-900/30 to-purple-800/30 p-4 rounded-lg border border-purple-500/30">
                        <h4 class="font-bold text-purple-300 mb-2 text-lg">üìó DID</h4>
                        <p class="text-sm text-gray-200 mb-2"><strong>Quando usar:</strong> Perguntas e negativas no passado</p>
                        <p class="text-xs text-gray-300 italic">Exemplo: <strong>Did</strong> you call me yesterday?</p>
                        <p class="text-xs text-gray-300 italic">Exemplo: I <strong>did</strong> not (didn't) go there.</p>
                    </div>
                    
                    <!-- WILL -->
                    <div class="bg-gradient-to-r from-green-900/30 to-green-800/30 p-4 rounded-lg border border-green-500/30">
                        <h4 class="font-bold text-green-300 mb-2 text-lg">üìô WILL</h4>
                        <p class="text-sm text-gray-200 mb-2"><strong>Quando usar:</strong> Futuro, previs√µes e promessas</p>
                        <p class="text-xs text-gray-300 italic">Exemplo: It <strong>will</strong> rain tomorrow.</p>
                        <p class="text-xs text-gray-300 italic">Exemplo: I <strong>will</strong> help you.</p>
                    </div>
                    
                    <!-- WOULD -->
                    <div class="bg-gradient-to-r from-orange-900/30 to-orange-800/30 p-4 rounded-lg border border-orange-500/30">
                        <h4 class="font-bold text-orange-300 mb-2 text-lg">üìï WOULD</h4>
                        <p class="text-sm text-gray-200 mb-2"><strong>Quando usar:</strong> Pedidos educados e situa√ß√µes hipot√©ticas</p>
                        <p class="text-xs text-gray-300 italic">Exemplo: <strong>Would</strong> you like some coffee?</p>
                        <p class="text-xs text-gray-300 italic">Exemplo: I <strong>would</strong> travel if I could.</p>
                    </div>
                </div>
                
                <div class="text-center">
                    <button onclick="startVerbGamePlay()" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg transition transform hover:scale-105">
                        <i class="fas fa-play mr-2"></i> Come√ßar o Jogo!
                    </button>
                </div>
            </div>
            
            <!-- √Årea do Jogo -->
            <div id="verb-game-area" class="card p-8 rounded-2xl shadow-2xl hidden">
                <!-- Header com Pontua√ß√£o e Progresso -->
                <div class="flex justify-between items-center mb-6 pb-4 border-b border-purple-500/30">
                    <div class="text-center">
                        <p class="text-sm text-gray-400">Pontua√ß√£o</p>
                        <p id="verb-game-score" class="text-3xl font-bold text-yellow-400">0</p>
                    </div>
                    <div class="text-center">
                        <p class="text-sm text-gray-400">Progresso</p>
                        <p id="verb-game-progress" class="text-xl font-bold text-purple-300">0 / 10</p>
                    </div>
                </div>
                
                <!-- Pergunta -->
                <div class="mb-6 text-center">
                    <p class="text-sm text-gray-400 mb-2">Complete a frase:</p>
                    <p id="verb-question-sentence" class="text-3xl font-bold text-white mb-3">
                        <!-- A frase aparecer√° aqui -->
                    </p>
                    <div id="verb-hint" class="bg-purple-900/20 p-3 rounded-lg border border-purple-500/30 mb-4">
                        <p class="text-sm text-purple-200">
                            <i class="fas fa-lightbulb mr-2"></i>
                            <strong>Dica:</strong> <span id="verb-hint-text"></span>
                        </p>
                    </div>
                </div>
                
                <!-- Op√ß√µes de Resposta -->
                <div id="verb-options-container" class="grid grid-cols-2 gap-4 mb-6">
                    <!-- As op√ß√µes ser√£o inseridas aqui pelo JavaScript -->
                </div>
                
                <!-- Feedback Detalhado -->
                <div id="verb-feedback" class="bg-gray-900/30 p-4 rounded-lg border border-gray-700/30 mb-4 min-h-[80px]">
                    <p id="verb-feedback-text" class="text-center text-lg font-bold mb-2"></p>
                    <p id="verb-explanation" class="text-sm text-gray-300 text-center"></p>
                </div>
                
                <!-- Bot√£o Pr√≥xima Pergunta -->
                <button id="next-verb-question-btn" class="hidden w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition transform hover:scale-105">
                    <i class="fas fa-arrow-right mr-2"></i> Pr√≥xima Pergunta
                </button>
            </div>
        </div>
        
        <!-- Tela de Conversas Guiadas -->
        <div id="conversation-screen" class="w-full max-w-3xl hidden relative z-10">
            <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl hover:scale-110 transition"><i class="fas fa-arrow-left"></i></button>
            
            <!-- T√≠tulo do T√≥pico -->
            <div class="text-center mb-6">
                <div id="conversation-topic-icon" class="text-6xl mb-3">üí¨</div>
                <h2 id="conversation-topic-title" class="text-4xl font-bold text-white space-text">Conversa Guiada</h2>
            </div>
            
            <!-- Interface de Chat -->
            <div class="card p-6 rounded-2xl shadow-2xl min-h-[500px]">
                <!-- √Årea da Mensagem do Tutor -->
                <div id="conversation-message-area" class="mb-6 p-6 rounded-xl bg-gradient-to-r from-purple-900/40 to-indigo-900/40 border-l-4 border-purple-400">
                    <div class="flex items-start gap-4">
                        <div class="text-4xl">üéì</div>
                        <div class="flex-1">
                            <p id="conversation-text-en" class="text-xl font-semibold text-purple-100 mb-3">
                                <!-- Texto em ingl√™s aparecer√° aqui -->
                            </p>
                            <p id="conversation-text-pt" class="text-base text-gray-300 italic">
                                <!-- Tradu√ß√£o em portugu√™s aparecer√° aqui -->
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- √Årea de Op√ß√µes/Respostas -->
                <div>
                    <p class="text-purple-200 font-semibold mb-3 text-center">üìù Escolha sua resposta:</p>
                    <div id="conversation-options-area" class="space-y-3">
                        <!-- Bot√µes de op√ß√£o ser√£o inseridos aqui dinamicamente -->
                    </div>
                </div>
                
                <!-- Progresso da Conversa -->
                <div class="mt-6 pt-4 border-t border-purple-500/30 text-center">
                    <p class="text-sm text-gray-300">
                        <span id="conversation-progress">Passo 1</span>
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Tela de Login/Cadastro -->
        <div id="login-screen" class="w-full max-w-md hidden">
            <div class="card p-8 rounded-2xl shadow-2xl text-center">
                <h2 id="login-title" class="text-3xl font-bold text-purple-200 mb-6">Acessar Conta</h2>
                
                <div id="login-form">
                    <input type="email" id="login-email" placeholder="Seu e-mail" class="w-full p-3 mb-4 bg-gray-800 text-white border-2 border-purple-400 rounded-lg focus:outline-none focus:border-purple-300">
                    <input type="password" id="login-password" placeholder="Sua senha" class="w-full p-3 mb-6 bg-gray-800 text-white border-2 border-purple-400 rounded-lg focus:outline-none focus:border-purple-300">
                    <button onclick="handleLogin()" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 rounded-lg shadow-lg transition transform hover:scale-105">Entrar</button>
                </div>

                <div id="register-form" class="hidden">
                    <input type="email" id="register-email" placeholder="Seu melhor e-mail" class="w-full p-3 mb-4 bg-gray-800 text-white border-2 border-purple-400 rounded-lg focus:outline-none focus:border-purple-300">
                    <input type="password" id="register-password" placeholder="Crie uma senha forte" class="w-full p-3 mb-6 bg-gray-800 text-white border-2 border-purple-400 rounded-lg focus:outline-none focus:border-purple-300">
                    <button onclick="handleRegister()" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-lg shadow-lg transition transform hover:scale-105">Criar Conta</button>
                </div>

                <p id="auth-error" class="text-red-400 h-6 mt-4"></p>

                <p class="mt-6 text-gray-300">
                    <span id="toggle-text">N√£o tem uma conta?</span>
                    <a href="#" onclick="toggleAuthForms(event)" id="toggle-link" class="text-purple-300 hover:underline">Crie uma agora</a>
                </p>
            </div>
        </div>

        <!-- Tela do Desafio dos Verbos -->
<div id="verb-game-screen" class="w-full max-w-2xl hidden">
    <button onclick="showScreen('home-screen')" class="absolute top-4 left-4 text-white text-2xl z-20"><i class="fas fa-arrow-left"></i></button>
    <div class="card p-6 rounded-2xl shadow-2xl text-center relative">
        <h2 class="text-3xl font-bold text-purple-200 mb-2">Desafio dos Verbos</h2>
        <p class="text-gray-300 mb-6">Escolha o verbo correto para completar a frase.</p>

        <!-- Placar e Progresso -->
        <div class="flex justify-between items-center mb-6 text-lg font-semibold text-gray-200">
            <div>Pontos: <span id="verb-game-score" class="text-yellow-300">0</span></div>
            <div>Quest√£o: <span id="verb-game-progress">1 / 10</span></div>
        </div>

        <!-- √Årea da Pergunta -->
        <div class="bg-gray-900 bg-opacity-50 p-6 rounded-xl min-h-[100px] flex items-center justify-center mb-6">
            <p id="verb-question-sentence" class="text-2xl md:text-3xl font-semibold text-white"></p>
        </div>

        <!-- Bot√µes de Op√ß√£o -->
        <div id="verb-options-container" class="grid grid-cols-2 gap-4 mb-4">
            <!-- Bot√µes ser√£o gerados pelo JS -->
        </div>

        <!-- Feedback -->
        <div id="verb-feedback" class="h-8 mb-4 text-xl font-bold"></div>

        <!-- Bot√£o de Pr√≥xima -->
        <button id="next-verb-question-btn" class="hidden w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-lg transition">
            Pr√≥xima Pergunta <i class="fas fa-arrow-right ml-2"></i>
        </button>
    </div>
</div>
 
        
        <!-- Modal Customizado -->
        <div id="custom-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50 p-4">
            <div class="card p-6 rounded-2xl shadow-xl text-center max-w-sm w-full">
                <p id="modal-message" class="mb-5 text-lg"></p>
                <div id="modal-buttons"></div>
            </div>
        </div>
        
        <!-- Achievement Popup -->
        <div id="achievement-popup" class="fixed bottom-4 right-4 hidden z-50 achievement-popup">
            <div class="p-4 rounded-xl shadow-2xl text-white max-w-xs" style="background: linear-gradient(135deg, #4B0082 0%, #8A2BE2 50%, #FFD700 100%); border: 2px solid rgba(255, 215, 0, 0.6); box-shadow: 0 0 30px rgba(138, 43, 226, 0.8);">
                <div class="flex items-center gap-3">
                    <div class="text-4xl" id="achievement-icon">üèÜ</div>
                    <div class="text-left">
                        <p class="font-bold text-lg">‚≠ê Nova Conquista!</p>
                        <p class="text-sm" id="achievement-text">Parab√©ns!</p>
                    </div>
                </div>
            </div>
        </div>

    </div>
    
    <!-- Audio Elements for Feedback -->
    <audio id="success-sound" preload="auto">
        <source src="data:audio/wav;base64,UklGRhwAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQA=" type="audio/wav">
    </audio>
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    
    <script src="js/app.js"></script>
</body>
</html>